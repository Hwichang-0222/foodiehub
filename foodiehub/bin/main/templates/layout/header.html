<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>FoodieHub Header</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>
	<header th:fragment="header" id="site-header" class="header">
	    <nav class="nav-bar">
	        <!-- 왼쪽: 로고 -->
	        <div class="nav-logo">
	            <a href="/" class="nav-logo-link">FoodieHub</a>
	        </div>
	
	        <!-- 가운데: 메뉴 -->
	        <ul class="nav-menu-center">
	            <li class="nav-item"><a href="/restaurant/list" class="nav-link">맛집 찾기</a></li>
	            <li class="nav-item"><a href="/board/list" class="nav-link">커뮤니티</a></li>
	        </ul>
	
	        <!-- 오른쪽: 로그인/회원가입 -->
	        <ul class="nav-menu-right">
	            <!-- 로그인 전 -->
                <li class="nav-item" th:if="${session.user == null}">
                    <a href="/user/login" class="nav-link">로그인</a>
                </li>
                <li class="nav-item" th:if="${session.user == null}">
                    <a href="/user/signup" class="nav-link">회원가입</a>
                </li>

                <!-- 로그인 후 -->
                <li class="nav-item login-info" th:if="${session.user != null}">
                    <span th:text="'환영합니다. ' + ${session.user.name} + '님'"></span>
                </li>
                
                <!-- 관리자와 일반 회원 구분 -->
				<li class="nav-item user-info" th:if="${session.user != null}">
				    <a th:if="${session.user.role == 'ROLE_ADMIN'}"
				       href="/admin/dashboard"
				       class="nav-link profile-link">
				        <img th:src="${session.user.profileImageUrl != null ? session.user.profileImageUrl : '/images/default-profile.png'}"
				             alt="프로필"
				             class="profile-img">
				        <span>관리자 페이지</span>
				    </a>
				
				    <a th:if="${session.user.role != 'ROLE_ADMIN'}"
				       href="/user/mypage"
				       class="nav-link profile-link">
				        <img th:src="${session.user.profileImageUrl != null ? session.user.profileImageUrl : '/images/default-profile.png'}"
				             alt="프로필"
				             class="profile-img">
				        <span>마이페이지</span>
				    </a>
				</li>

                <li class="nav-item" th:if="${session.user != null}">
                    <a href="/user/logout" class="nav-link">로그아웃</a>
                </li>
	        </ul>
	    </nav>
	</header>
</body>
</html>
